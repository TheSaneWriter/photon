<script lang="ts">
  import Comment from '$lib/components/lemmy/comment/Comment.svelte'
  import PostMeta from '$lib/components/lemmy/post/PostMeta.svelte'
  import { getInstance } from '$lib/lemmy.js'
  import type { CommentView } from 'lemmy-js-client'
  import { Button, Material } from 'mono-svelte'

  export let comment: CommentView
</script>

<Material class="flex flex-col flex-1 gap-1" color="distinct" padding="lg">
  <div class="flex flex-row justify-between items-center">
    <PostMeta
      community={comment.community}
      deleted={false}
      featured={false}
      nsfw={comment.post.nsfw}
      published={new Date(comment.post.published + 'Z')}
      saved={false}
    />
    <Button
      color="secondary"
      href="/post/{comment.post.id}?thread={comment.comment.path}#{comment
        .comment.id}"
      size="sm"
      class="self-start"
    >
      Jump
    </Button>
  </div>
  <a
    href="/post/{getInstance()}/{comment.post.id}"
    class="font-medium text-base"
  >
    {comment.post.name}
  </a>
  <div class="list-none">
    <Comment
      postId={comment.post.id}
      node={{ children: [], comment_view: comment, depth: 1 }}
      replying={false}
    />
  </div>
</Material>
